<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating your first trigger node | Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Documentation for n8n">
    <meta property="article:modified_time" content="2021-05-10T09:34:55.000Z">
    <meta property="og:site_name" content="Docs">
    <meta property="og:title" content="Creating your first trigger node | n8n Docs">
    <meta property="og:description" content="n8n is an extendable workflow automation tool that enables you to connect anything to everything via its open, fair-code model.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/nodes/creating-nodes/create-trigger-node.html">
    <meta property="og:image" content="/assets/img/n8n-docs.png">
    <meta name="twitter:title" content="Creating your first trigger node | n8n Docs">
    <meta name="twitter:description" content="n8n is an extendable workflow automation tool that enables you to connect anything to everything via its open, fair-code model.">
    <meta name="twitter:url" content="/nodes/creating-nodes/create-trigger-node.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/assets/img/n8n-docs.png">
    
    <link rel="preload" href="/assets/css/0.styles.7ec30a6d.css" as="style"><link rel="preload" href="/assets/js/app.2398b0c0.js" as="script"><link rel="preload" href="/assets/js/3.0538c73b.js" as="script"><link rel="preload" href="/assets/js/6.a4892b34.js" as="script"><link rel="prefetch" href="/assets/js/10.8da3ef8b.js"><link rel="prefetch" href="/assets/js/100.c08f0fae.js"><link rel="prefetch" href="/assets/js/101.6f0dd85d.js"><link rel="prefetch" href="/assets/js/102.faea1ded.js"><link rel="prefetch" href="/assets/js/103.1aeba643.js"><link rel="prefetch" href="/assets/js/104.96051ca8.js"><link rel="prefetch" href="/assets/js/105.ab19cd7f.js"><link rel="prefetch" href="/assets/js/106.4bd194d0.js"><link rel="prefetch" href="/assets/js/107.5a8ee90d.js"><link rel="prefetch" href="/assets/js/108.5092b684.js"><link rel="prefetch" href="/assets/js/109.de6b80d8.js"><link rel="prefetch" href="/assets/js/11.0c6453c7.js"><link rel="prefetch" href="/assets/js/110.46a943ac.js"><link rel="prefetch" href="/assets/js/111.cc035c36.js"><link rel="prefetch" href="/assets/js/112.14ae1e49.js"><link rel="prefetch" href="/assets/js/113.a82ccbee.js"><link rel="prefetch" href="/assets/js/114.2596d9ec.js"><link rel="prefetch" href="/assets/js/115.2b64e3eb.js"><link rel="prefetch" href="/assets/js/116.e2bfb02b.js"><link rel="prefetch" href="/assets/js/117.362f21b8.js"><link rel="prefetch" href="/assets/js/118.baf55fb8.js"><link rel="prefetch" href="/assets/js/119.a845261d.js"><link rel="prefetch" href="/assets/js/12.5d8769fd.js"><link rel="prefetch" href="/assets/js/120.18390eec.js"><link rel="prefetch" href="/assets/js/121.d7533a37.js"><link rel="prefetch" href="/assets/js/122.57616292.js"><link rel="prefetch" href="/assets/js/123.fb33cbd4.js"><link rel="prefetch" href="/assets/js/124.3ff7f62b.js"><link rel="prefetch" href="/assets/js/125.cd8c9f97.js"><link rel="prefetch" href="/assets/js/126.9ae775d7.js"><link rel="prefetch" href="/assets/js/127.1fca821b.js"><link rel="prefetch" href="/assets/js/128.c6d677d1.js"><link rel="prefetch" href="/assets/js/129.04360ddc.js"><link rel="prefetch" href="/assets/js/13.b74e759a.js"><link rel="prefetch" href="/assets/js/130.378f122d.js"><link rel="prefetch" href="/assets/js/131.c425aa85.js"><link rel="prefetch" href="/assets/js/132.b144efe1.js"><link rel="prefetch" href="/assets/js/133.c9971eec.js"><link rel="prefetch" href="/assets/js/134.afe414ee.js"><link rel="prefetch" href="/assets/js/135.0ef76246.js"><link rel="prefetch" href="/assets/js/136.1f262b2c.js"><link rel="prefetch" href="/assets/js/137.d2c30204.js"><link rel="prefetch" href="/assets/js/138.2b0b8b2b.js"><link rel="prefetch" href="/assets/js/139.41af6420.js"><link rel="prefetch" href="/assets/js/14.9c0d9bb1.js"><link rel="prefetch" href="/assets/js/140.9f994490.js"><link rel="prefetch" href="/assets/js/141.a7ab0897.js"><link rel="prefetch" href="/assets/js/142.fc7304de.js"><link rel="prefetch" href="/assets/js/143.6924f487.js"><link rel="prefetch" href="/assets/js/144.3b30ead3.js"><link rel="prefetch" href="/assets/js/145.baab7a5a.js"><link rel="prefetch" href="/assets/js/146.8e6a6b29.js"><link rel="prefetch" href="/assets/js/147.00e368df.js"><link rel="prefetch" href="/assets/js/148.1f814dbc.js"><link rel="prefetch" href="/assets/js/149.277d9484.js"><link rel="prefetch" href="/assets/js/15.58cdcf08.js"><link rel="prefetch" href="/assets/js/150.a475bf0b.js"><link rel="prefetch" href="/assets/js/151.31ebf405.js"><link rel="prefetch" href="/assets/js/152.14a2c3b6.js"><link rel="prefetch" href="/assets/js/153.bd9cad43.js"><link rel="prefetch" href="/assets/js/154.6b006b89.js"><link rel="prefetch" href="/assets/js/155.d9d3dd53.js"><link rel="prefetch" href="/assets/js/156.e4e67a18.js"><link rel="prefetch" href="/assets/js/157.b90710e7.js"><link rel="prefetch" href="/assets/js/158.66660775.js"><link rel="prefetch" href="/assets/js/159.72352975.js"><link rel="prefetch" href="/assets/js/16.a888b782.js"><link rel="prefetch" href="/assets/js/160.65ae051d.js"><link rel="prefetch" href="/assets/js/161.1a61c7be.js"><link rel="prefetch" href="/assets/js/162.e1404dc7.js"><link rel="prefetch" href="/assets/js/163.3745eefb.js"><link rel="prefetch" href="/assets/js/164.ab85918f.js"><link rel="prefetch" href="/assets/js/165.cbec6577.js"><link rel="prefetch" href="/assets/js/166.ca07ed39.js"><link rel="prefetch" href="/assets/js/167.638f6bb4.js"><link rel="prefetch" href="/assets/js/168.dfffdebe.js"><link rel="prefetch" href="/assets/js/169.9c468d93.js"><link rel="prefetch" href="/assets/js/17.eff8d7c7.js"><link rel="prefetch" href="/assets/js/170.cd1d8a2f.js"><link rel="prefetch" href="/assets/js/171.8d9061c4.js"><link rel="prefetch" href="/assets/js/172.ad5cd3f9.js"><link rel="prefetch" href="/assets/js/173.0a2570e6.js"><link rel="prefetch" href="/assets/js/174.c1ba2fa2.js"><link rel="prefetch" href="/assets/js/175.5833920c.js"><link rel="prefetch" href="/assets/js/176.0200415a.js"><link rel="prefetch" href="/assets/js/177.3585ff07.js"><link rel="prefetch" href="/assets/js/178.417db14e.js"><link rel="prefetch" href="/assets/js/179.be721526.js"><link rel="prefetch" href="/assets/js/18.e3cce37e.js"><link rel="prefetch" href="/assets/js/180.6940417a.js"><link rel="prefetch" href="/assets/js/181.b2310c81.js"><link rel="prefetch" href="/assets/js/182.d789b97d.js"><link rel="prefetch" href="/assets/js/183.af227452.js"><link rel="prefetch" href="/assets/js/184.0005e964.js"><link rel="prefetch" href="/assets/js/185.d03a7eb4.js"><link rel="prefetch" href="/assets/js/186.b4b81976.js"><link rel="prefetch" href="/assets/js/187.a6d69801.js"><link rel="prefetch" href="/assets/js/188.4e9b4936.js"><link rel="prefetch" href="/assets/js/189.24be0ca1.js"><link rel="prefetch" href="/assets/js/19.8f2e42bd.js"><link rel="prefetch" href="/assets/js/190.807c8677.js"><link rel="prefetch" href="/assets/js/191.6c6a2f19.js"><link rel="prefetch" href="/assets/js/192.c46c805a.js"><link rel="prefetch" href="/assets/js/193.8fe37f10.js"><link rel="prefetch" href="/assets/js/194.e00a0099.js"><link rel="prefetch" href="/assets/js/195.8085b973.js"><link rel="prefetch" href="/assets/js/196.795ef74e.js"><link rel="prefetch" href="/assets/js/197.e9de130d.js"><link rel="prefetch" href="/assets/js/198.6ea537c2.js"><link rel="prefetch" href="/assets/js/199.162806a9.js"><link rel="prefetch" href="/assets/js/20.36e78671.js"><link rel="prefetch" href="/assets/js/200.b6aa2b7a.js"><link rel="prefetch" href="/assets/js/201.a8d40179.js"><link rel="prefetch" href="/assets/js/202.457975a7.js"><link rel="prefetch" href="/assets/js/203.43146c47.js"><link rel="prefetch" href="/assets/js/204.9144956e.js"><link rel="prefetch" href="/assets/js/205.af401ed0.js"><link rel="prefetch" href="/assets/js/206.ab0d976e.js"><link rel="prefetch" href="/assets/js/207.393c2be4.js"><link rel="prefetch" href="/assets/js/208.c2525390.js"><link rel="prefetch" href="/assets/js/209.9db18912.js"><link rel="prefetch" href="/assets/js/21.89a249d6.js"><link rel="prefetch" href="/assets/js/210.43fb5d7b.js"><link rel="prefetch" href="/assets/js/211.35599db8.js"><link rel="prefetch" href="/assets/js/212.2748fbee.js"><link rel="prefetch" href="/assets/js/213.3be570fb.js"><link rel="prefetch" href="/assets/js/214.86cc5dc7.js"><link rel="prefetch" href="/assets/js/215.161a4b11.js"><link rel="prefetch" href="/assets/js/216.00c3f2a4.js"><link rel="prefetch" href="/assets/js/217.3a2aa6e0.js"><link rel="prefetch" href="/assets/js/218.8b2af5ba.js"><link rel="prefetch" href="/assets/js/219.57ea7ebd.js"><link rel="prefetch" href="/assets/js/22.6a5766e3.js"><link rel="prefetch" href="/assets/js/220.d9a45bd4.js"><link rel="prefetch" href="/assets/js/221.9292fa0d.js"><link rel="prefetch" href="/assets/js/222.5a55a9c6.js"><link rel="prefetch" href="/assets/js/223.a1a49d01.js"><link rel="prefetch" href="/assets/js/224.64ac1ee0.js"><link rel="prefetch" href="/assets/js/225.e1132937.js"><link rel="prefetch" href="/assets/js/226.37ce94d0.js"><link rel="prefetch" href="/assets/js/227.6c0b5e18.js"><link rel="prefetch" href="/assets/js/228.40fd45eb.js"><link rel="prefetch" href="/assets/js/229.03b6edfe.js"><link rel="prefetch" href="/assets/js/23.6097caea.js"><link rel="prefetch" href="/assets/js/230.0f07cba0.js"><link rel="prefetch" href="/assets/js/231.e2aca47e.js"><link rel="prefetch" href="/assets/js/232.a1fd2772.js"><link rel="prefetch" href="/assets/js/233.7b234cd1.js"><link rel="prefetch" href="/assets/js/234.7e5ddf20.js"><link rel="prefetch" href="/assets/js/235.65f0e91f.js"><link rel="prefetch" href="/assets/js/236.3626b594.js"><link rel="prefetch" href="/assets/js/237.80f2df58.js"><link rel="prefetch" href="/assets/js/238.2fa3e588.js"><link rel="prefetch" href="/assets/js/239.c81dd140.js"><link rel="prefetch" href="/assets/js/24.2c72d78c.js"><link rel="prefetch" href="/assets/js/240.501e96cc.js"><link rel="prefetch" href="/assets/js/241.b1c97181.js"><link rel="prefetch" href="/assets/js/242.82c7ceb3.js"><link rel="prefetch" href="/assets/js/243.7b5a49df.js"><link rel="prefetch" href="/assets/js/244.b8b0bac9.js"><link rel="prefetch" href="/assets/js/245.e39d8319.js"><link rel="prefetch" href="/assets/js/246.ad3ea8ae.js"><link rel="prefetch" href="/assets/js/247.1a941f85.js"><link rel="prefetch" href="/assets/js/248.608c8daa.js"><link rel="prefetch" href="/assets/js/249.78b0959f.js"><link rel="prefetch" href="/assets/js/25.a6c43451.js"><link rel="prefetch" href="/assets/js/250.771404bf.js"><link rel="prefetch" href="/assets/js/251.eb41c2d0.js"><link rel="prefetch" href="/assets/js/252.555c2586.js"><link rel="prefetch" href="/assets/js/253.ca54df6f.js"><link rel="prefetch" href="/assets/js/254.3e0953d1.js"><link rel="prefetch" href="/assets/js/255.95f7982e.js"><link rel="prefetch" href="/assets/js/256.701c130b.js"><link rel="prefetch" href="/assets/js/257.5028992c.js"><link rel="prefetch" href="/assets/js/258.4d8937e9.js"><link rel="prefetch" href="/assets/js/259.12f59a7c.js"><link rel="prefetch" href="/assets/js/26.e75d8db5.js"><link rel="prefetch" href="/assets/js/260.6c2d6324.js"><link rel="prefetch" href="/assets/js/261.cbc980fc.js"><link rel="prefetch" href="/assets/js/262.2eeaab95.js"><link rel="prefetch" href="/assets/js/263.b050567c.js"><link rel="prefetch" href="/assets/js/264.5fdb053a.js"><link rel="prefetch" href="/assets/js/265.4f34274c.js"><link rel="prefetch" href="/assets/js/266.07b3aa36.js"><link rel="prefetch" href="/assets/js/267.20feeb3e.js"><link rel="prefetch" href="/assets/js/268.58a708e9.js"><link rel="prefetch" href="/assets/js/269.14f644af.js"><link rel="prefetch" href="/assets/js/27.5b4a423b.js"><link rel="prefetch" href="/assets/js/270.9db46487.js"><link rel="prefetch" href="/assets/js/271.b23b1d1e.js"><link rel="prefetch" href="/assets/js/272.33373b36.js"><link rel="prefetch" href="/assets/js/273.497d21c3.js"><link rel="prefetch" href="/assets/js/274.98392d67.js"><link rel="prefetch" href="/assets/js/275.b2085ead.js"><link rel="prefetch" href="/assets/js/276.7b25f42c.js"><link rel="prefetch" href="/assets/js/277.0607d1d3.js"><link rel="prefetch" href="/assets/js/278.78dff9d3.js"><link rel="prefetch" href="/assets/js/279.ea00dff9.js"><link rel="prefetch" href="/assets/js/28.21fd9a8e.js"><link rel="prefetch" href="/assets/js/280.fe0ac922.js"><link rel="prefetch" href="/assets/js/281.f8236472.js"><link rel="prefetch" href="/assets/js/282.a8559586.js"><link rel="prefetch" href="/assets/js/283.262a1023.js"><link rel="prefetch" href="/assets/js/284.7d7932d8.js"><link rel="prefetch" href="/assets/js/285.4744606b.js"><link rel="prefetch" href="/assets/js/286.192dbd57.js"><link rel="prefetch" href="/assets/js/287.76f160f0.js"><link rel="prefetch" href="/assets/js/288.01e1d58b.js"><link rel="prefetch" href="/assets/js/289.9d2c8330.js"><link rel="prefetch" href="/assets/js/29.711df18a.js"><link rel="prefetch" href="/assets/js/290.d583ec24.js"><link rel="prefetch" href="/assets/js/291.a7d93469.js"><link rel="prefetch" href="/assets/js/292.838152f5.js"><link rel="prefetch" href="/assets/js/293.dc40f02c.js"><link rel="prefetch" href="/assets/js/294.f84c9f8f.js"><link rel="prefetch" href="/assets/js/295.a37dddf6.js"><link rel="prefetch" href="/assets/js/296.c40bf77e.js"><link rel="prefetch" href="/assets/js/297.8aacfc21.js"><link rel="prefetch" href="/assets/js/298.fb913a4b.js"><link rel="prefetch" href="/assets/js/299.dc188a77.js"><link rel="prefetch" href="/assets/js/30.941c20a6.js"><link rel="prefetch" href="/assets/js/300.860bb113.js"><link rel="prefetch" href="/assets/js/301.3f2fe46d.js"><link rel="prefetch" href="/assets/js/302.7dfce05a.js"><link rel="prefetch" href="/assets/js/303.12e0ccf5.js"><link rel="prefetch" href="/assets/js/304.9ef22c53.js"><link rel="prefetch" href="/assets/js/305.78e38c5c.js"><link rel="prefetch" href="/assets/js/306.9720ea5d.js"><link rel="prefetch" href="/assets/js/307.a721bb01.js"><link rel="prefetch" href="/assets/js/308.e2c603b4.js"><link rel="prefetch" href="/assets/js/309.c016f00c.js"><link rel="prefetch" href="/assets/js/31.79d41c14.js"><link rel="prefetch" href="/assets/js/310.6a801cab.js"><link rel="prefetch" href="/assets/js/311.2ac1ed21.js"><link rel="prefetch" href="/assets/js/312.0d050040.js"><link rel="prefetch" href="/assets/js/313.bbcca30b.js"><link rel="prefetch" href="/assets/js/314.1acc4980.js"><link rel="prefetch" href="/assets/js/315.3e3a6a89.js"><link rel="prefetch" href="/assets/js/316.8d639b0d.js"><link rel="prefetch" href="/assets/js/317.17045e89.js"><link rel="prefetch" href="/assets/js/318.1a50680e.js"><link rel="prefetch" href="/assets/js/319.4ac44825.js"><link rel="prefetch" href="/assets/js/32.1d928bec.js"><link rel="prefetch" href="/assets/js/320.4688b5ea.js"><link rel="prefetch" href="/assets/js/321.cc136bd7.js"><link rel="prefetch" href="/assets/js/322.47ec4611.js"><link rel="prefetch" href="/assets/js/323.c723743d.js"><link rel="prefetch" href="/assets/js/324.5c0ce91d.js"><link rel="prefetch" href="/assets/js/325.73af70af.js"><link rel="prefetch" href="/assets/js/326.1cae2ef8.js"><link rel="prefetch" href="/assets/js/327.a5d22dda.js"><link rel="prefetch" href="/assets/js/328.2b4926e2.js"><link rel="prefetch" href="/assets/js/329.f664ca14.js"><link rel="prefetch" href="/assets/js/33.0932eaae.js"><link rel="prefetch" href="/assets/js/330.6f6b376e.js"><link rel="prefetch" href="/assets/js/331.8d133806.js"><link rel="prefetch" href="/assets/js/332.01935157.js"><link rel="prefetch" href="/assets/js/333.8e3934ec.js"><link rel="prefetch" href="/assets/js/334.667abbdb.js"><link rel="prefetch" href="/assets/js/335.3bc252a2.js"><link rel="prefetch" href="/assets/js/336.6a27ced5.js"><link rel="prefetch" href="/assets/js/337.2b2bf751.js"><link rel="prefetch" href="/assets/js/338.b58b65ed.js"><link rel="prefetch" href="/assets/js/339.6eeea7bc.js"><link rel="prefetch" href="/assets/js/34.5aa25360.js"><link rel="prefetch" href="/assets/js/340.acd27326.js"><link rel="prefetch" href="/assets/js/341.99b13409.js"><link rel="prefetch" href="/assets/js/342.c7a46f72.js"><link rel="prefetch" href="/assets/js/343.97577cc2.js"><link rel="prefetch" href="/assets/js/344.3e6bed8e.js"><link rel="prefetch" href="/assets/js/345.ea075bfe.js"><link rel="prefetch" href="/assets/js/346.e77849dd.js"><link rel="prefetch" href="/assets/js/347.970d1646.js"><link rel="prefetch" href="/assets/js/348.fd082638.js"><link rel="prefetch" href="/assets/js/349.d6abd881.js"><link rel="prefetch" href="/assets/js/35.ae3deb87.js"><link rel="prefetch" href="/assets/js/350.bdc18fca.js"><link rel="prefetch" href="/assets/js/351.36eabec3.js"><link rel="prefetch" href="/assets/js/352.d0609ea6.js"><link rel="prefetch" href="/assets/js/353.ebc4a3a7.js"><link rel="prefetch" href="/assets/js/354.f7987641.js"><link rel="prefetch" href="/assets/js/355.ab97589e.js"><link rel="prefetch" href="/assets/js/356.80619201.js"><link rel="prefetch" href="/assets/js/357.572b57b5.js"><link rel="prefetch" href="/assets/js/358.cb90e73d.js"><link rel="prefetch" href="/assets/js/359.5fae7a5e.js"><link rel="prefetch" href="/assets/js/36.3d02d479.js"><link rel="prefetch" href="/assets/js/360.d3f8b0c9.js"><link rel="prefetch" href="/assets/js/361.4ec13917.js"><link rel="prefetch" href="/assets/js/362.33e22fb7.js"><link rel="prefetch" href="/assets/js/363.1ff95aec.js"><link rel="prefetch" href="/assets/js/364.93268584.js"><link rel="prefetch" href="/assets/js/365.755f5104.js"><link rel="prefetch" href="/assets/js/366.7672b749.js"><link rel="prefetch" href="/assets/js/367.342f0acc.js"><link rel="prefetch" href="/assets/js/368.2cc7bede.js"><link rel="prefetch" href="/assets/js/369.32db089b.js"><link rel="prefetch" href="/assets/js/37.4c13e29c.js"><link rel="prefetch" href="/assets/js/370.7c48e57b.js"><link rel="prefetch" href="/assets/js/371.56baa7f8.js"><link rel="prefetch" href="/assets/js/372.c8f8ec43.js"><link rel="prefetch" href="/assets/js/373.c657e73d.js"><link rel="prefetch" href="/assets/js/374.6b6cdccf.js"><link rel="prefetch" href="/assets/js/375.63b85259.js"><link rel="prefetch" href="/assets/js/376.64ea89c2.js"><link rel="prefetch" href="/assets/js/377.4371b6f4.js"><link rel="prefetch" href="/assets/js/378.b3c304cf.js"><link rel="prefetch" href="/assets/js/379.75146452.js"><link rel="prefetch" href="/assets/js/38.457b2eff.js"><link rel="prefetch" href="/assets/js/380.3bf58d98.js"><link rel="prefetch" href="/assets/js/381.c6401767.js"><link rel="prefetch" href="/assets/js/382.ce73021b.js"><link rel="prefetch" href="/assets/js/383.f2bd4b3a.js"><link rel="prefetch" href="/assets/js/384.2dc9dc6a.js"><link rel="prefetch" href="/assets/js/385.f4718787.js"><link rel="prefetch" href="/assets/js/386.4c357cfe.js"><link rel="prefetch" href="/assets/js/387.86785e14.js"><link rel="prefetch" href="/assets/js/388.121cfdeb.js"><link rel="prefetch" href="/assets/js/389.715aa322.js"><link rel="prefetch" href="/assets/js/39.23b18eb7.js"><link rel="prefetch" href="/assets/js/390.012b3329.js"><link rel="prefetch" href="/assets/js/391.c84107a5.js"><link rel="prefetch" href="/assets/js/392.c8194c51.js"><link rel="prefetch" href="/assets/js/393.bbd02378.js"><link rel="prefetch" href="/assets/js/394.0cdfc6e1.js"><link rel="prefetch" href="/assets/js/395.2b227951.js"><link rel="prefetch" href="/assets/js/396.55b0021a.js"><link rel="prefetch" href="/assets/js/397.29147b4c.js"><link rel="prefetch" href="/assets/js/398.8d8241a8.js"><link rel="prefetch" href="/assets/js/399.c0911ffd.js"><link rel="prefetch" href="/assets/js/4.d1c50647.js"><link rel="prefetch" href="/assets/js/40.6d29346f.js"><link rel="prefetch" href="/assets/js/400.93f0a6b8.js"><link rel="prefetch" href="/assets/js/401.f6310976.js"><link rel="prefetch" href="/assets/js/402.1d45fb09.js"><link rel="prefetch" href="/assets/js/403.a849f5ff.js"><link rel="prefetch" href="/assets/js/404.451f35a3.js"><link rel="prefetch" href="/assets/js/405.f5a832b1.js"><link rel="prefetch" href="/assets/js/406.0009ed5d.js"><link rel="prefetch" href="/assets/js/407.e3848a54.js"><link rel="prefetch" href="/assets/js/408.a30df954.js"><link rel="prefetch" href="/assets/js/409.fa6fe207.js"><link rel="prefetch" href="/assets/js/41.b1e1a49c.js"><link rel="prefetch" href="/assets/js/410.d40e1040.js"><link rel="prefetch" href="/assets/js/411.120715a6.js"><link rel="prefetch" href="/assets/js/412.81022d39.js"><link rel="prefetch" href="/assets/js/413.65bca20e.js"><link rel="prefetch" href="/assets/js/414.8cc9f786.js"><link rel="prefetch" href="/assets/js/415.438a6799.js"><link rel="prefetch" href="/assets/js/416.6ef887ef.js"><link rel="prefetch" href="/assets/js/417.820deaf7.js"><link rel="prefetch" href="/assets/js/418.906b37fc.js"><link rel="prefetch" href="/assets/js/419.17b23b23.js"><link rel="prefetch" href="/assets/js/42.02110717.js"><link rel="prefetch" href="/assets/js/420.f37a52a4.js"><link rel="prefetch" href="/assets/js/421.65963fa4.js"><link rel="prefetch" href="/assets/js/422.0932bb4d.js"><link rel="prefetch" href="/assets/js/423.7a45ba11.js"><link rel="prefetch" href="/assets/js/424.688abcb4.js"><link rel="prefetch" href="/assets/js/425.4892d2e3.js"><link rel="prefetch" href="/assets/js/426.51508ce9.js"><link rel="prefetch" href="/assets/js/427.cf336746.js"><link rel="prefetch" href="/assets/js/428.8cb08f72.js"><link rel="prefetch" href="/assets/js/429.957eaa1c.js"><link rel="prefetch" href="/assets/js/43.f4bd79d5.js"><link rel="prefetch" href="/assets/js/430.9519d615.js"><link rel="prefetch" href="/assets/js/431.64c6545d.js"><link rel="prefetch" href="/assets/js/432.66921d24.js"><link rel="prefetch" href="/assets/js/433.d9dc5045.js"><link rel="prefetch" href="/assets/js/434.fe25790c.js"><link rel="prefetch" href="/assets/js/435.623a2374.js"><link rel="prefetch" href="/assets/js/436.d5825543.js"><link rel="prefetch" href="/assets/js/437.63c617dc.js"><link rel="prefetch" href="/assets/js/438.43499745.js"><link rel="prefetch" href="/assets/js/439.2fdd1e81.js"><link rel="prefetch" href="/assets/js/44.1d05cc31.js"><link rel="prefetch" href="/assets/js/440.05d7d16c.js"><link rel="prefetch" href="/assets/js/441.4db69000.js"><link rel="prefetch" href="/assets/js/442.613819db.js"><link rel="prefetch" href="/assets/js/443.c58a6971.js"><link rel="prefetch" href="/assets/js/444.4f665531.js"><link rel="prefetch" href="/assets/js/445.a78b1dfd.js"><link rel="prefetch" href="/assets/js/446.b2a136fc.js"><link rel="prefetch" href="/assets/js/447.259195f8.js"><link rel="prefetch" href="/assets/js/448.ffa059d0.js"><link rel="prefetch" href="/assets/js/449.6aba0cfe.js"><link rel="prefetch" href="/assets/js/45.9a6329b0.js"><link rel="prefetch" href="/assets/js/450.09842c7b.js"><link rel="prefetch" href="/assets/js/451.23ca346a.js"><link rel="prefetch" href="/assets/js/452.d6eef5da.js"><link rel="prefetch" href="/assets/js/453.a5d7e2e4.js"><link rel="prefetch" href="/assets/js/454.f3acb450.js"><link rel="prefetch" href="/assets/js/455.18cad2cf.js"><link rel="prefetch" href="/assets/js/456.8182d89e.js"><link rel="prefetch" href="/assets/js/457.7c677941.js"><link rel="prefetch" href="/assets/js/458.6b2dbb64.js"><link rel="prefetch" href="/assets/js/459.b8df3e55.js"><link rel="prefetch" href="/assets/js/46.0270690e.js"><link rel="prefetch" href="/assets/js/460.0d7eabf7.js"><link rel="prefetch" href="/assets/js/461.b2869b5c.js"><link rel="prefetch" href="/assets/js/462.ad9ea15d.js"><link rel="prefetch" href="/assets/js/463.04de1d04.js"><link rel="prefetch" href="/assets/js/464.db044492.js"><link rel="prefetch" href="/assets/js/465.91796f60.js"><link rel="prefetch" href="/assets/js/466.3431df9f.js"><link rel="prefetch" href="/assets/js/467.e08b9652.js"><link rel="prefetch" href="/assets/js/468.5a14fa9a.js"><link rel="prefetch" href="/assets/js/469.18b301d3.js"><link rel="prefetch" href="/assets/js/47.cedb7b45.js"><link rel="prefetch" href="/assets/js/470.6c04096e.js"><link rel="prefetch" href="/assets/js/471.cd41ac81.js"><link rel="prefetch" href="/assets/js/472.63de66da.js"><link rel="prefetch" href="/assets/js/473.4d39cbca.js"><link rel="prefetch" href="/assets/js/474.1ad36d48.js"><link rel="prefetch" href="/assets/js/475.0fe7c5e7.js"><link rel="prefetch" href="/assets/js/476.d231b1e2.js"><link rel="prefetch" href="/assets/js/477.0709477b.js"><link rel="prefetch" href="/assets/js/478.b6297803.js"><link rel="prefetch" href="/assets/js/479.4e2a3fb2.js"><link rel="prefetch" href="/assets/js/48.10bde869.js"><link rel="prefetch" href="/assets/js/480.1c3001f8.js"><link rel="prefetch" href="/assets/js/481.f1fbc68a.js"><link rel="prefetch" href="/assets/js/482.8e8cc70f.js"><link rel="prefetch" href="/assets/js/483.3ebb8441.js"><link rel="prefetch" href="/assets/js/484.10c8d4e0.js"><link rel="prefetch" href="/assets/js/485.56e8d63b.js"><link rel="prefetch" href="/assets/js/486.09500441.js"><link rel="prefetch" href="/assets/js/487.32675059.js"><link rel="prefetch" href="/assets/js/488.1a0f62de.js"><link rel="prefetch" href="/assets/js/489.4708106a.js"><link rel="prefetch" href="/assets/js/49.8f53a59a.js"><link rel="prefetch" href="/assets/js/490.7ee07ce4.js"><link rel="prefetch" href="/assets/js/491.3bff3a18.js"><link rel="prefetch" href="/assets/js/492.4d6243e4.js"><link rel="prefetch" href="/assets/js/493.da121552.js"><link rel="prefetch" href="/assets/js/494.792b43e7.js"><link rel="prefetch" href="/assets/js/495.3fb960a2.js"><link rel="prefetch" href="/assets/js/496.8949146d.js"><link rel="prefetch" href="/assets/js/497.4fd5cd78.js"><link rel="prefetch" href="/assets/js/498.782ecdd7.js"><link rel="prefetch" href="/assets/js/499.aa08a36f.js"><link rel="prefetch" href="/assets/js/5.4caef3d5.js"><link rel="prefetch" href="/assets/js/50.bb6f61e4.js"><link rel="prefetch" href="/assets/js/500.deff0e5f.js"><link rel="prefetch" href="/assets/js/501.d33b630e.js"><link rel="prefetch" href="/assets/js/502.11ddf582.js"><link rel="prefetch" href="/assets/js/503.bf8d03c6.js"><link rel="prefetch" href="/assets/js/504.6eb12f08.js"><link rel="prefetch" href="/assets/js/505.a33fdd21.js"><link rel="prefetch" href="/assets/js/506.af117e7f.js"><link rel="prefetch" href="/assets/js/507.d64652b3.js"><link rel="prefetch" href="/assets/js/508.4763e5a8.js"><link rel="prefetch" href="/assets/js/509.ef28cfc3.js"><link rel="prefetch" href="/assets/js/51.c03934dc.js"><link rel="prefetch" href="/assets/js/510.24e04c98.js"><link rel="prefetch" href="/assets/js/511.bfe240c7.js"><link rel="prefetch" href="/assets/js/512.e669c5f5.js"><link rel="prefetch" href="/assets/js/513.2c0cb368.js"><link rel="prefetch" href="/assets/js/514.bcfc3925.js"><link rel="prefetch" href="/assets/js/515.ce798c93.js"><link rel="prefetch" href="/assets/js/516.4835bdc5.js"><link rel="prefetch" href="/assets/js/517.267cd2c4.js"><link rel="prefetch" href="/assets/js/518.b41ab971.js"><link rel="prefetch" href="/assets/js/52.0b8f7a82.js"><link rel="prefetch" href="/assets/js/53.c011000d.js"><link rel="prefetch" href="/assets/js/54.b90aa3f1.js"><link rel="prefetch" href="/assets/js/55.dfd435c9.js"><link rel="prefetch" href="/assets/js/56.f2c89880.js"><link rel="prefetch" href="/assets/js/57.5b17eafd.js"><link rel="prefetch" href="/assets/js/58.4347580c.js"><link rel="prefetch" href="/assets/js/59.eda2b693.js"><link rel="prefetch" href="/assets/js/60.00a4d0ea.js"><link rel="prefetch" href="/assets/js/61.8e755711.js"><link rel="prefetch" href="/assets/js/62.25a22efe.js"><link rel="prefetch" href="/assets/js/63.5746103f.js"><link rel="prefetch" href="/assets/js/64.e5d18a2f.js"><link rel="prefetch" href="/assets/js/65.86af8088.js"><link rel="prefetch" href="/assets/js/66.e8a3e3eb.js"><link rel="prefetch" href="/assets/js/67.b3047441.js"><link rel="prefetch" href="/assets/js/68.5cc9f325.js"><link rel="prefetch" href="/assets/js/69.8ce49431.js"><link rel="prefetch" href="/assets/js/7.f13776b7.js"><link rel="prefetch" href="/assets/js/70.08ef6aaf.js"><link rel="prefetch" href="/assets/js/71.3ac34197.js"><link rel="prefetch" href="/assets/js/72.a1050ca3.js"><link rel="prefetch" href="/assets/js/73.6b31e525.js"><link rel="prefetch" href="/assets/js/74.8c5fe495.js"><link rel="prefetch" href="/assets/js/75.bc908d62.js"><link rel="prefetch" href="/assets/js/76.7aabed58.js"><link rel="prefetch" href="/assets/js/77.2538df67.js"><link rel="prefetch" href="/assets/js/78.fc087ea7.js"><link rel="prefetch" href="/assets/js/79.1b852a5b.js"><link rel="prefetch" href="/assets/js/8.1c77f7f0.js"><link rel="prefetch" href="/assets/js/80.7a4a4098.js"><link rel="prefetch" href="/assets/js/81.35cdd956.js"><link rel="prefetch" href="/assets/js/82.32bfaf9b.js"><link rel="prefetch" href="/assets/js/83.b228de23.js"><link rel="prefetch" href="/assets/js/84.b17d5c75.js"><link rel="prefetch" href="/assets/js/85.e9e86027.js"><link rel="prefetch" href="/assets/js/86.c3454838.js"><link rel="prefetch" href="/assets/js/87.01bb9806.js"><link rel="prefetch" href="/assets/js/88.c239cab9.js"><link rel="prefetch" href="/assets/js/89.79365668.js"><link rel="prefetch" href="/assets/js/9.694366e2.js"><link rel="prefetch" href="/assets/js/90.b3114011.js"><link rel="prefetch" href="/assets/js/91.efbc0ef0.js"><link rel="prefetch" href="/assets/js/92.3f23546c.js"><link rel="prefetch" href="/assets/js/93.1c6d798b.js"><link rel="prefetch" href="/assets/js/94.c628f9c0.js"><link rel="prefetch" href="/assets/js/95.e9ce3e38.js"><link rel="prefetch" href="/assets/js/96.d1fe5ce2.js"><link rel="prefetch" href="/assets/js/97.8ebc0727.js"><link rel="prefetch" href="/assets/js/98.e33a1e4a.js"><link rel="prefetch" href="/assets/js/99.4969f1a4.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f6c4b1ae.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7ec30a6d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/n8n-logo.png" alt="Docs" class="logo"> <span class="site-name can-hide">Docs</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/nodes/" class="nav-link router-link-active">
  Nodes
</a></div><div class="nav-item"><a href="/reference/" class="nav-link">
  Reference
</a></div><div class="nav-item"><a href="https://community.n8n.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/n8n-io/n8n" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/nodes/" class="nav-link router-link-active">
  Nodes
</a></div><div class="nav-item"><a href="/reference/" class="nav-link">
  Reference
</a></div><div class="nav-item"><a href="https://community.n8n.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/n8n-io/n8n" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/nodes/" class="sidebar-heading clickable router-link-active"><span>🧬 Overview</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>🔬 Creating Nodes</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nodes/creating-nodes/create-node.html" class="sidebar-link">Creating your first node</a></li><li><a href="/nodes/creating-nodes/create-trigger-node.html" aria-current="page" class="active sidebar-link">Creating your first trigger node</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nodes/creating-nodes/create-trigger-node.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/nodes/creating-nodes/create-trigger-node.html#selecting-the-node" class="sidebar-link">Selecting the node</a></li><li class="sidebar-sub-header"><a href="/nodes/creating-nodes/create-trigger-node.html#cloning-the-repository" class="sidebar-link">Cloning the repository</a></li><li class="sidebar-sub-header"><a href="/nodes/creating-nodes/create-trigger-node.html#creating-the-node" class="sidebar-link">Creating the node</a></li><li class="sidebar-sub-header"><a href="/nodes/creating-nodes/create-trigger-node.html#adding-the-node-to-editor-ui" class="sidebar-link">Adding the node to Editor UI</a></li><li class="sidebar-sub-header"><a href="/nodes/creating-nodes/create-trigger-node.html#creating-the-ui-for-the-node" class="sidebar-link">Creating the UI for the node</a></li><li class="sidebar-sub-header"><a href="/nodes/creating-nodes/create-trigger-node.html#creating-the-ui-for-credentials" class="sidebar-link">Creating the UI for credentials</a></li><li class="sidebar-sub-header"><a href="/nodes/creating-nodes/create-trigger-node.html#understanding-the-life-cycle-for-the-webhook-method" class="sidebar-link">Understanding the life cycle for the webhook method</a></li><li class="sidebar-sub-header"><a href="/nodes/creating-nodes/create-trigger-node.html#summary" class="sidebar-link">Summary</a></li></ul></li><li><a href="/nodes/creating-nodes/general-guidelines.html" class="sidebar-link">General Guidelines</a></li><li><a href="/nodes/creating-nodes/node-dev-cli.html" class="sidebar-link">Using the Node Dev CLI</a></li><li><a href="/nodes/creating-nodes/node-elements.html" class="sidebar-link">Node UI Elements</a></li><li><a href="/nodes/creating-nodes/node-review-checklist.html" class="sidebar-link">Node review checklist</a></li><li><a href="/nodes/creating-nodes/troubleshooting.html" class="sidebar-link">Troubleshooting</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/nodes/nodes-library" class="sidebar-heading clickable"><span>🧠 Nodes Library</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/nodes/credentials" class="sidebar-heading clickable"><span>🔑 Credentials Library</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="creating-your-first-trigger-node"><a href="#creating-your-first-trigger-node" class="header-anchor">#</a> Creating your first trigger node</h1> <p>Today, you will learn how to create your first trigger node for n8n.</p> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <p>You have knowledge of:</p> <ul><li>JavaScript/TypeScript</li> <li>REST APIs</li> <li><a href="https://www.getvero.com/resources/webhooks/" target="_blank" rel="noopener noreferrer">Webhooks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Expressions in n8n</li></ul> <p>Install the following tools:</p> <ul><li><strong>Git:</strong> You can find instructions on how to install Git <a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li><strong>Node.js and npm:</strong> You can find instructions on how to install both using nvm (Node Version Manager) <a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. The current minimum version is <code>14.15</code>. In case you already have Node.js and npm installed, you can check the current version with the following command:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>node -v
<span class="token function">npm</span> -v
</code></pre></div><ul><li><strong>Lerna:</strong> Install <a href="https://lerna.js.org/" target="_blank" rel="noopener noreferrer">lerna<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> globally with the following command:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --global lerna
</code></pre></div><h2 id="selecting-the-node"><a href="#selecting-the-node" class="header-anchor">#</a> Selecting the node</h2> <p>The first thing that we have to do is pick the service we want to create the node for. We will use <a href="https://www.autopilothq.com/" target="_blank" rel="noopener noreferrer">Autopilot<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as an example.</p> <p>Since n8n's repository already has a Autopilot Trigger node, we will name this node <strong>Autofriend Trigger</strong> to avoid conflicts.</p> <h2 id="cloning-the-repository"><a href="#cloning-the-repository" class="header-anchor">#</a> Cloning the repository</h2> <p>In GitHub, fork the <a href="https://github.com/n8n-io/n8n" target="_blank" rel="noopener noreferrer">n8n repository<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Clone it by running the following command in your terminal (don't forget to replace <code>&lt;USERNAME&gt;</code> with your GitHub username):</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/<span class="token operator">&lt;</span>USERNAME<span class="token operator">&gt;</span>/n8n.git <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> n8n
</code></pre></div><p>n8n is built from four main packages:</p> <ul><li>cli</li> <li>core</li> <li>editor-ui</li> <li>nodes-base</li></ul> <p>All these packages are under the <code>/packages</code> folder in the main n8n folder. We will be working in the <code>nodes-base</code> folder as it contains everything related to nodes. Specifically, <code>/packages/nodes-base/nodes</code>, <code>packages/nodes-base/credentials</code>, and <code>packages/nodes-base/package.json</code>.</p> <ul><li>The folder <code>nodes</code>, contains all the nodes in n8n.</li> <li>The folder <code>credentials</code> contains all the credentials that the different nodes use. Each node can define multiple credentials. For example, OAuth2 or API Key. Each credential requires different parameters that the user will have to input. The credentials data that the user provides is stored in an encrypted format in n8n's database.</li> <li>The file <code>package.json</code> contains all the npm packages that the nodes use. It also contains all the nodes and credentials that are loaded when n8n is started.</li></ul> <img src="/assets/img/n8n-folder-structure.cf8872a7.png" width="500"> <h2 id="creating-the-node"><a href="#creating-the-node" class="header-anchor">#</a> Creating the node</h2> <ol><li>Go to <code>packages/nodes-base/nodes</code>.</li> <li>Create a folder called <code>Autofriend</code> (the folder names are PascalCase).</li> <li>Within the Autofriend folder, create a file called <code>AutofriendTrigger.node.ts</code> (YourNodeNameTrigger.node.ts).</li> <li>Download and add the Autofriend <a href="https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Autopilot/autopilot.svg" target="_blank" rel="noopener noreferrer">icon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to the folder. Name it <code>autopilot.svg</code>.
<ul><li>The icon property has to be either a 60x60 pixels PNG or an SVG and must exist in the node’s folder.</li> <li>An SVG is preferable. In case you have to use a PNG, make sure that it is compressed. A good tool for that is <a href="https://tinypng.com" target="_blank" rel="noopener noreferrer">tinypng<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>A good place to find company icons is <a href="https://github.com/gilbarbara/logos/tree/master/logos" target="_blank" rel="noopener noreferrer">gilbarbara/logos<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li></ul></li> <li>Paste the following code in the <code>AutofriendTrigger.node.ts</code> file.</li></ol> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
   IHookFunctions<span class="token punctuation">,</span>
   IWebhookFunctions<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'n8n-core'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>
   IDataObject<span class="token punctuation">,</span>
   INodeType<span class="token punctuation">,</span>
   INodeTypeDescription<span class="token punctuation">,</span>
   IWebhookResponseData<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'n8n-workflow'</span><span class="token punctuation">;</span>

<span class="token comment">/*
import {
	autofriendApiRequest,
} from './GenericFunctions';

import {
	snakeCase,
} from 'change-case';
*/</span>


<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AutofriendTrigger</span> <span class="token keyword">implements</span> <span class="token class-name">INodeType</span> <span class="token punctuation">{</span>
   description<span class="token operator">:</span> INodeTypeDescription <span class="token operator">=</span> <span class="token punctuation">{</span>
	   displayName<span class="token operator">:</span> <span class="token string">'Autofriend Trigger'</span><span class="token punctuation">,</span>
	   name<span class="token operator">:</span> <span class="token string">'autofriendTrigger'</span><span class="token punctuation">,</span>
	   icon<span class="token operator">:</span> <span class="token string">'file:autofriend.svg'</span><span class="token punctuation">,</span>
	   group<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'trigger'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	   version<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	   subtitle<span class="token operator">:</span> <span class="token string">'={{$parameter[&quot;event&quot;]}}'</span><span class="token punctuation">,</span>
	   description<span class="token operator">:</span> <span class="token string">'Handle Autofriend events via webhooks'</span><span class="token punctuation">,</span>
	   defaults<span class="token operator">:</span> <span class="token punctuation">{</span>
		   name<span class="token operator">:</span> <span class="token string">'Autofriend Trigger'</span><span class="token punctuation">,</span>
		   color<span class="token operator">:</span> <span class="token string">'#6ad7b9'</span><span class="token punctuation">,</span>
	   <span class="token punctuation">}</span><span class="token punctuation">,</span>
	   inputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	   outputs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'main'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	   credentials<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	   webhooks<span class="token operator">:</span> <span class="token punctuation">[</span>
		   <span class="token punctuation">{</span>
			   name<span class="token operator">:</span> <span class="token string">'default'</span><span class="token punctuation">,</span>
			   httpMethod<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
			   responseMode<span class="token operator">:</span> <span class="token string">'onReceived'</span><span class="token punctuation">,</span>
			   path<span class="token operator">:</span> <span class="token string">'webhook'</span><span class="token punctuation">,</span>
		   <span class="token punctuation">}</span><span class="token punctuation">,</span>
	   <span class="token punctuation">]</span><span class="token punctuation">,</span>
	   properties<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">async</span> <span class="token function">webhook</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> IWebhookFunctions<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>IWebhookResponseData<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
	   <span class="token keyword">return</span> <span class="token punctuation">{</span>
		   workflowData<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	   <span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Your directory structure should now look like the following.</p> <p><img src="/assets/img/autopilot-directory-structure.10255633.png" alt="Autofriend's directory structure"></p> <h2 id="adding-the-node-to-editor-ui"><a href="#adding-the-node-to-editor-ui" class="header-anchor">#</a> Adding the node to Editor UI</h2> <p>n8n uses the properties set in the property <code>description</code> to render the node in the Editor UI. These properties are <code>displayName</code>, <code>name</code>, <code>color</code>, <code>icon</code>, <code>description</code>, and <code>subtitle</code>.</p> <p>Check the following figure to see how the properties affect the looks of the node.</p> <p><img src="/assets/img/autopilot-appearance.4441f18e.png" alt="Autofriend's appearance in Editor UI"></p> <p><strong>Note:</strong> The property description conforms to <a href="https://github.com/n8n-io/n8n/blob/f2666e92ffed2c3983d08e73b1e45a2bd516b90d/packages/workflow/src/Interfaces.ts#L425" target="_blank" rel="noopener noreferrer">INodeTypeDescription<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Let's see how the node looks in the UI by following these steps:</p> <ol><li>Go to <code>/packages/nodes-base/package.json</code>.</li> <li>Paste <code>&quot;dist/nodes/Autofriend/AutofriendTrigger.node.js&quot;,</code> in the nodes array to register the node (in an alphabetical order).</li> <li>Go to the project's main folder (n8n) in the terminal and run the following commands (it can take a few minutes).
<ul><li>The first command installs all dependencies of all the modules and links them together.</li> <li>The second command builds all the code.</li> <li>The third command starts n8n in development mode.</li></ul></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>lerna bootstrap --hoist
<span class="token function">npm</span> run build
<span class="token function">npm</span> run dev
</code></pre></div><ol start="4"><li>Open your browser and go to <a href="http://localhost:8080/" target="_blank" rel="noopener noreferrer">localhost:8080<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and you should be able to see the Editor UI.</li> <li>Open the <em><strong>Create Node</strong></em> menu, select the <em><strong>Trigger</strong></em> tab, type <code>Autofriend</code>, and click on it to add the node to the Editor UI.</li></ol> <p><strong>Notes</strong></p> <ul><li>On startup, n8n will load all the nodes and credentials (more about credentials later) that are registered in <code>/packages/nodes-base/package.json</code>.</li> <li>The property <code>description.name</code> uses camelCase.</li> <li>The property <code>description.color</code> is the company's branding color in hexadecimal. In case the website does not include this information, there are other websites that help you get a company’s branding colors. For example, <a href="https://brandpalettes.com/" target="_blank" rel="noopener noreferrer">brandpalettes.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li></ul> <h2 id="creating-the-ui-for-the-node"><a href="#creating-the-ui-for-the-node" class="header-anchor">#</a> Creating the UI for the node</h2> <p>Double-clicking on the Autofriend Trigger node will open the Node Editor View. It will be empty since we haven't added any UI components yet. Luckily, n8n provides predefined JSON-based UI components that we can use to ask the user for different types of data.</p> <p>Autopilots's <a href="https://autopilot.docs.apiary.io/#reference/rest-hooks/register-rest-hook/register-a-rest-hook" target="_blank" rel="noopener noreferrer">docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> mention that to create a hook, we need to provide the following pieces of information:</p> <ul><li>event - Required</li> <li>target_url - Required</li></ul> <p>In the <code>event</code> parameter, we provide the name of the event for which we want to be notified. For example, <code>contact_added</code>. As the name implies, by providing <code>contact_added</code> as the event, we will be notified every time a contact is added to Autofriend.</p> <p>In the <code>target_url</code> parameter, we provide the URL where Autofriend will notify us when the event defined in the event parameter takes place. We don't need to ask the user for this parameter as n8n provides us with a method to obtain it.</p> <h3 id="adding-the-fields"><a href="#adding-the-fields" class="header-anchor">#</a> Adding the fields</h3> <p>Let’s make the Node Editor View ask for these parameters:</p> <ol><li>Add the following under <code>description.properties</code> in <code>packages/nodes-base/nodes/Autofriend/AutofriendTrigger.node.ts.</code>.</li></ol> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token punctuation">{</span>
	displayName<span class="token operator">:</span> <span class="token string">'Event'</span><span class="token punctuation">,</span>
	name<span class="token operator">:</span> <span class="token string">'event'</span><span class="token punctuation">,</span>
	<span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">'options'</span><span class="token punctuation">,</span>
	required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
	options<span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			name<span class="token operator">:</span> <span class="token string">'Contact Added'</span><span class="token punctuation">,</span>
			value<span class="token operator">:</span> <span class="token string">'contactAdded'</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			name<span class="token operator">:</span> <span class="token string">'Contact Added To List'</span><span class="token punctuation">,</span>
			value<span class="token operator">:</span> <span class="token string">'contactAddedToList'</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			name<span class="token operator">:</span> <span class="token string">'Contact Entered Segment'</span><span class="token punctuation">,</span>
			value<span class="token operator">:</span> <span class="token string">'contactEnteredSegment'</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			name<span class="token operator">:</span> <span class="token string">'Contact Left Segment'</span><span class="token punctuation">,</span>
			value<span class="token operator">:</span> <span class="token string">'contactLeftSegment'</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			name<span class="token operator">:</span> <span class="token string">'Contact Removed From List'</span><span class="token punctuation">,</span>
			value<span class="token operator">:</span> <span class="token string">'contactRemovedFromList'</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			name<span class="token operator">:</span> <span class="token string">'Contact Unsubscribed'</span><span class="token punctuation">,</span>
			value<span class="token operator">:</span> <span class="token string">'contactUnsubscribed'</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			name<span class="token operator">:</span> <span class="token string">'Contact Updated'</span><span class="token punctuation">,</span>
			value<span class="token operator">:</span> <span class="token string">'contactUpdated'</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><ol start="2"><li>Stop the current n8n process by pressing <code>ctrl + c</code> in the terminal in which you are running n8n.</li> <li>Run again, by entering the following in the terminal.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run dev
</code></pre></div><ol start="4"><li>Go to <a href="http://localhost:8080/" target="_blank" rel="noopener noreferrer">localhost:8080<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, refresh the page, and open the node again.</li></ol> <p>The node should now look like in the following image.</p> <p><img src="/assets/img/autofriend-fields.0a21e70c.png" alt="Autofriend's required fields"></p> <h2 id="creating-the-ui-for-credentials"><a href="#creating-the-ui-for-credentials" class="header-anchor">#</a> Creating the UI for credentials</h2> <p>Most REST APIs use some sort of authentication mechanism. Autofriend's REST API uses API Keys. The API Key informs them about who is making the request to their system and gives you access to all the functionality that the API provides. Given all the things it can do, this has to be treated as a sensitive piece of information and should be kept private.</p> <p>n8n gives you the ability to ask for sensitive information using credentials. In the credentials, you can use all the generally available UI elements. Additionally, the data that is stored using the credentials would be encrypted before being saved to the database. In order to do that, n8n uses an encryption key.</p> <p>With that in mind, let’s create the UI to ask for the user’s Autofriend API Key. The process of creating and registering credentials is similar to that of creating and registering the node:</p> <ol><li>Go to <code>packages/nodes-base/credentials</code>.</li> <li>Within the credentials folder, create a file named <code>AutofriendApi.credentials.ts</code>.</li> <li>Paste the following code.</li></ol> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
	ICredentialType<span class="token punctuation">,</span>
	NodePropertyTypes<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'n8n-workflow'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AutofriendApi</span> <span class="token keyword">implements</span> <span class="token class-name">ICredentialType</span> <span class="token punctuation">{</span>
	name <span class="token operator">=</span> <span class="token string">'autofriendApi'</span><span class="token punctuation">;</span>
	displayName <span class="token operator">=</span> <span class="token string">'Autofriend API'</span><span class="token punctuation">;</span>
	properties <span class="token operator">=</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			displayName<span class="token operator">:</span> <span class="token string">'API Key'</span><span class="token punctuation">,</span>
			name<span class="token operator">:</span> <span class="token string">'apiKey'</span><span class="token punctuation">,</span>
			<span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">'string'</span> <span class="token keyword">as</span> NodePropertyTypes<span class="token punctuation">,</span>
			<span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>Go to <code>/packages/nodes-base/package.json</code>.</li> <li>Paste <code>&quot;dist/credentials/AutofriendApi.credentials.js&quot;,</code> in the credentials array to register the credentials (in an alphabetical order).</li> <li>Got to <code>packages/nodes-base/nodes/Autofriend/AutofriendTrigger.node.ts</code>.</li> <li>Associate the credentials with the node by adding the following to <code>description.credentials</code>.</li></ol> <div class="language-typescript extra-class"><pre class="language-typescript"><code> credentials<span class="token operator">:</span> <span class="token punctuation">[</span>
	  <span class="token punctuation">{</span>
		  name<span class="token operator">:</span> <span class="token string">'autofriendApi'</span><span class="token punctuation">,</span>
		  required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><ol start="8"><li>Stop the current n8n process by pressing <code>ctrl + c</code> in the terminal in which you are running n8n.</li> <li>Run again, by entering the following in the terminal.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run dev
</code></pre></div><p>When you go to the Node Editor view, you should see the following.</p> <p><img src="/assets/img/autofriend-create-credentials.52cc0dba.png" alt="Autofriend's create credentials"></p> <p><img src="/assets/img/autofriend-credentials.87cd9040.png" alt="Autofriend's credentials"></p> <h2 id="understanding-the-life-cycle-for-the-webhook-method"><a href="#understanding-the-life-cycle-for-the-webhook-method" class="header-anchor">#</a> Understanding the life cycle for the webhook method</h2> <p>When a Trigger node is executed either in test or production mode, the following happens:</p> <h3 id="n8n-persists-all-the-webhooks-defined-in-description-webhooks"><a href="#n8n-persists-all-the-webhooks-defined-in-description-webhooks" class="header-anchor">#</a> n8n persists all the webhooks defined in description.webhooks</h3> <p>The persisted data will be used later to verify if the incoming requests to the n8n’s webhook endpoint are valid.</p> <p>The property webhooks implements the interface <strong>IWebhookDescription</strong>. The interface has four properties.</p> <ol><li><strong>name:</strong> The property name where n8n will look for the life cycle methods.</li> <li><strong>httpMethod:</strong> The HTTP method.</li> <li><strong>responseMode:</strong> When the trigger will respond. When developing a trigger node, this property must be set to <code>OnReceived</code>.</li> <li><strong>path:</strong> The path added to the base URL.</li></ol> <p>For example, for a Trigger node with the following <code>webhooks</code> property, n8n will create the following webhooks URLs.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code>webhooks<span class="token operator">:</span> <span class="token punctuation">[</span>
	<span class="token punctuation">{</span>
		name<span class="token operator">:</span> <span class="token string">'default'</span><span class="token punctuation">,</span>
		httpMethod<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
		responseMethod<span class="token operator">:</span> <span class="token string">'onReceived'</span><span class="token punctuation">,</span>
		path<span class="token operator">:</span> <span class="token string">'webhook'</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><div><ul><li><strong>Test:</strong> POST {{WEBHOOK_TUNNEL_URL || localhost}}/webhook-test/{{uuid}}/{{path}}</li> <li><strong>Production:</strong> POST {{WEBHOOK_TUNNEL_URL || localhost}}/webhook/{{uuid}}/{{path}}</li></ul> <div v-pre=""><p>These URLs can be found in the node under the <code>Webhook URLs</code> label.</p> <p>These webhook URLs will be used as the notification URL (also known as the callback URL or target URL) when creating the webhook in the external system.</p> <p><strong>Note:</strong> In test mode, the webhooks are persisted in memory. In production mode, they are persisted in the database.</p> <h3 id="n8n-executes-the-life-cycle-methods"><a class="header-anchor" href="#n8n-executes-the-life-cycle-methods">#</a> n8n executes the life cycle methods</h3> <p>The life cycle methods allow us to create, delete, and check if the webhook exists in the external system.</p> <p><strong>Methods</strong></p> <ul><li><strong>checkExist:</strong> It’s the first method to be called and it ensures that if the webhook with the current path is already registered in the external system, n8n does not try to recreate it. If the webhook exists, it persists the webhook’s ID.</li> <li><strong>create:</strong> This method is called if the <code>checkExist</code>method returns false. Esentially, if the webhook with the current path does not exist. It registers the webhook in the external system and if it registers successfully, it persists the ID of the webhook.</li> <li><strong>delete:</strong> This method is called when the Trigger is either stopped manually or the webhook where the trigger lives is unactivated. It uses the ID previously persisted by either <code>create</code> method or the <code>checkExist</code> method to remove the webhook from the external system.</li></ul> <p><img src="/assets/img/lifecycle-flowchart.015878dd.png" alt="Lifecycle flowchart"></p> <h3 id="wait-for-new-events-to-trigger-the-workflow"><a class="header-anchor" href="#wait-for-new-events-to-trigger-the-workflow">#</a> Wait for new events to trigger the workflow</h3> <p>Every time the external system notifies us about a change, by making an HTTP Request to the URL we previously registered in the <code>create</code> method, the <code>execute</code> method is called. Within this method, we have access to the request object and everything it contains. For example, body, headers, querystring, etc. The data the method returns is the data we want the rest of the workflow to have access to.</p> <p>Let’s see how this would look for our current use-case:</p> <ol><li>Go to <code>packages/nodes-base/nodes/Autofriend</code>, create a file named <code>GenericFunctions.ts</code>, and paste the following code.</li></ol> <div class="language-typescript extra-class"><pre v-pre="" class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
	OptionsWithUri<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'request'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>
	IExecuteFunctions<span class="token punctuation">,</span>
	ILoadOptionsFunctions<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'n8n-core'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>
	IDataObject<span class="token punctuation">,</span>
	IHookFunctions<span class="token punctuation">,</span>
	IWebhookFunctions<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'n8n-workflow'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">autofriendApiRequest</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> IExecuteFunctions <span class="token operator">|</span> IWebhookFunctions <span class="token operator">|</span> IHookFunctions <span class="token operator">|</span> ILoadOptionsFunctions<span class="token punctuation">,</span> method<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> resource<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> body<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> query<span class="token operator">:</span> IDataObject <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> uri<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> option<span class="token operator">:</span> IDataObject <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// tslint:disable-line:no-any</span>

	<span class="token keyword">const</span> credentials <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCredentials</span><span class="token punctuation">(</span><span class="token string">'autofriendApi'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> IDataObject<span class="token punctuation">;</span>

	<span class="token keyword">const</span> apiKey <span class="token operator">=</span> credentials<span class="token punctuation">.</span>apiKey<span class="token punctuation">;</span>

	<span class="token keyword">const</span> endpoint <span class="token operator">=</span> <span class="token string">'https://api2.autopilothq.com/v1'</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> options<span class="token operator">:</span> OptionsWithUri <span class="token operator">=</span> <span class="token punctuation">{</span>
		headers<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token string">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
			autopilotapikey<span class="token operator">:</span> apiKey<span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		method<span class="token punctuation">,</span>
		body<span class="token punctuation">,</span>
		qs<span class="token operator">:</span> query<span class="token punctuation">,</span>
		uri<span class="token operator">:</span> uri <span class="token operator">||</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>endpoint<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>resource<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
		json<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">delete</span> options<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">delete</span> options<span class="token punctuation">.</span>qs<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>helpers<span class="token punctuation">.</span>request<span class="token operator">!</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> errorMessage <span class="token operator">=</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>message <span class="token operator">||</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>description <span class="token operator">||</span> error<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
			<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Autopilot error response [</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token punctuation">.</span>statusCode<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>errorMessage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">throw</span> error<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>Go to <code>packages/nodes-base/nodes/AutofriendTrigger.node.ts</code> and add the following code after the property description.</li></ol> <div class="language-typescript extra-class"><pre v-pre="" class="language-typescript"><code><span class="token comment">// @ts-ignore</span>
webhookMethods <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token keyword">async</span> <span class="token function">checkExists</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> IHookFunctions<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> webhookData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getWorkflowStaticData</span><span class="token punctuation">(</span><span class="token string">'node'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">const</span> webhookUrl <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNodeWebhookUrl</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNodeParameter</span><span class="token punctuation">(</span><span class="token string">'event'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
			<span class="token keyword">const</span> <span class="token punctuation">{</span> hooks<span class="token operator">:</span> webhooks <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">autofriendApiRequest</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'/hooks'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> webhook <span class="token keyword">of</span> webhooks<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>webhook<span class="token punctuation">.</span>target_url <span class="token operator">===</span> webhookUrl <span class="token operator">&amp;&amp;</span> webhook<span class="token punctuation">.</span>event <span class="token operator">===</span> <span class="token function">snakeCase</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					webhookData<span class="token punctuation">.</span>webhookId <span class="token operator">=</span> webhook<span class="token punctuation">.</span>hook_id<span class="token punctuation">;</span>
					<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token keyword">async</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> IHookFunctions<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> webhookUrl <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNodeWebhookUrl</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">const</span> webhookData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getWorkflowStaticData</span><span class="token punctuation">(</span><span class="token string">'node'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNodeParameter</span><span class="token punctuation">(</span><span class="token string">'event'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
			<span class="token keyword">const</span> body<span class="token operator">:</span> IDataObject <span class="token operator">=</span> <span class="token punctuation">{</span>
				event<span class="token operator">:</span> <span class="token function">snakeCase</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">,</span>
				target_url<span class="token operator">:</span> webhookUrl<span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token keyword">const</span> webhook <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">autofriendApiRequest</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'/hook'</span><span class="token punctuation">,</span> body<span class="token punctuation">)</span><span class="token punctuation">;</span>
			webhookData<span class="token punctuation">.</span>webhookId <span class="token operator">=</span> webhook<span class="token punctuation">.</span>hook_id<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token keyword">async</span> <span class="token keyword">delete</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> IHookFunctions<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> webhookData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getWorkflowStaticData</span><span class="token punctuation">(</span><span class="token string">'node'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				<span class="token keyword">await</span> <span class="token function">autofriendApiRequest</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'DELETE'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/hook/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>webhookData<span class="token punctuation">.</span>webhookId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">delete</span> webhookData<span class="token punctuation">.</span>webhookId<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>Replace the <code>webhook</code> function with the following.</li></ol> <div class="language-typescript extra-class"><pre v-pre="" class="language-typescript"><code><span class="token keyword">async</span> <span class="token function">webhook</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> IWebhookFunctions<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>IWebhookResponseData<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> req <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRequestObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span>
		workflowData<span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>helpers<span class="token punctuation">.</span><span class="token function">returnJsonArray</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>In the same file, uncomment the code snippet on the top to import <code>autoFriendApiRequest</code> and <code>snakeCase</code>.</li> <li>Stop the current n8n process by pressing <code>ctrl + c</code> in the terminal where you are running n8n.</li> <li>Run the project using a tunnel by entering <code>./packages/cli/bin/n8n start --tunnel</code> in the terminal. Access the n8n Editor UI at <a href="http://localhost:5678/workflow" target="_blank" rel="noopener noreferrer">localhost:5678<OutboundLink></OutboundLink></a>.</li> <li>Enter the API key in the credentials. Instructions to find the API Key can be found <a href="../credentials/autopilot">here</a>.</li> <li>Go to the workflow editor, save your workflow, and execute the node.</li></ol> <p><img src="/assets/img/executed-node.f00429a9.png" alt="Executed node"></p> <ol start="9"><li>Log into Autopilot and update a contact. Keep in mind that this should be done within two minutes after you executed the node. After that time frame, the webhook will be unregistered automatically and you will not be able to receive the event. If it takes you longer than that, please execute the node and update the contact again.</li></ol> <p><img src="/assets/img/executed-node-with-results.f47e2c35.png" alt="Executed node with results"></p> <p>The trigger node is now receiving events. Sometimes it might take a bit longer for the payload to arrive.</p> <p>You probably noticed that this time we did not run the project using <code>npm run dev</code>, but instead using <code>./packages/cli/bin/n8n start --tunnel</code>.</p> <p>Since our server is running locally, we need a tool that lets us proxy all requests to our local machine so that n8n receives and handles the events from the external service (Autopilot). This gets achieved using a tunnel. The details on how a tunnel works are out of the scope of this tutorial. If you want to know about it, you can check this <a href="http://localtunnel.github.io/www/" target="_blank" rel="noopener noreferrer">link<OutboundLink></OutboundLink></a>. Keep in mind that the tunnel is meant for development purposes only and should not be used in production.</p> <h2 id="summary"><a class="header-anchor" href="#summary">#</a> Summary</h2> <p>In this tutorial, we implemented one functionality of the Autofriend webhook API. We made the node show up in the Editor UI and in the Create Node menu with Autofriend's branding. Then, we added the fields necessary to create a webhook in the external service. We also added the credentials so that the API Key could be stored safely. Finally, we mapped all the parameters to the Autofriend API.</p></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/n8n-io/n8n-docs/edit/master/docs/nodes/creating-nodes/create-trigger-node.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/10/2021, 9:34:55 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/nodes/creating-nodes/create-node.html" class="prev">
        Creating your first node
      </a></span> <span class="next"><a href="/nodes/creating-nodes/general-guidelines.html">
        General Guidelines
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2398b0c0.js" defer></script><script src="/assets/js/3.0538c73b.js" defer></script><script src="/assets/js/6.a4892b34.js" defer></script>
  </body>
</html>
